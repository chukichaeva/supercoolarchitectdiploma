# Базовая архитектура 
С учетом БТ и НФТ базовая архитектура имеет следующий вид: 
* Запрос попадает на балансировщик нагрузки, который выбирает для обработки запроса один из веб-серверов. 
* Веб-сервер достаёт некоторую часть информации об изображении из службы кэширования, а остальное — из основной базы данных. 
* Часть заданий серверы обрабатывают асинхронно и соответствующим образом обновляют базу данных с результатами.
* Если пользователь авторизовался в системе, информация о его учётной записи загружается из базы данных учётных записей. 
* Данные о просмотре страницы отправляются в firehose-хранилище для последующей записи в облачную систему хранения. В конечном счёте, эти данные будут загружены в хранилище данных, которое аналитики используют для обработки.
* Сервер рендерит страничку в HTML и отправляет её обратно браузеру пользователя, проходя сначала через балансировщик нагрузки. Страница содержит Javascript- и CSS-файлы, которые загружены в облачную систему хранения, подключённую к CDN, поэтому браузер связывается с CDN для получения содержимого. 
Браузер отображает страницу пользователю.
![alt tag](https://github.com/chukichaeva/supercoolarchitectdiploma/blob/main/image/base.png)
| Элементы на схеме      |                                                                                                                                                                                                                           Описание                                                                                                                                                                                                                           |               Атрибуты качества              |
|------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------------------------------------:|
| Балансировщик нагрузки |                           Горизонтальное масштабирование позволяет минимально связывать разные части проекта (веб-сервер, базу данных и т. д.), потому что каждая из них запускается на разных серверах. Может наступить такой момент, когда вертикальное масштабирование более невозможно, так как в мире нет достаточно мощного компьютера для выполнения всех вычислений приложения. Функции балансировки выполняет  API Gateway                          | масштабируемость надежность инф.безопасность |
| Серверы веб-приложений |   Они выполняют основную бизнес-логику, которая обрабатывает запрос пользователя и отправляет HTML обратно браузеру. Чтобы выполнять свою работу, они обычно общаются с различными бэкэнд-инфраструктурами, такими как базы данных, серверы кэширования, очереди заданий, службы поиска и т. д. Как упоминалось выше, обычно есть как минимум два, а то и больше, сервера, подключённых к балансировщику нагрузки для обработки пользовательских запросов.   |        надежность  производительность        |
| Сервер баз данных      | Базы данных предоставляют инструменты для организации, добавления, поиска, обновления, удаления и выполнения вычислений над данными. В большинстве случаев серверы веб-приложений напрямую общаются с серверами заданий. Кроме того, у каждой серверной службы может быть соответствующая база данных, изолированная от остальной части приложения.                                                                                                          | инф.безопасность                             |
|       Кэширование      | Служба кэширования предоставляет простое хранилище данных в формате ключ-значение, которое позволяет хранить и искать информацию за время, близкое к линейному. Кэширование сохраняет результаты дорогостоящих вычислений и позволяют воспользоваться ими позже из кэша, а не пересчитывать их еще раз. Приложение может кэшировать результаты запроса в базы данных, результаты обращения к внешним службам, HTML для заданного URL-адреса и многое другое. |              производительность              |
|      Очереди задач     |                                                                                                                             Она состоит из двух компонентов: очереди «заданий», которые необходимо выполнить, и одного или нескольких рабочих серверов (часто называемых «работниками»), которые обрабатывают задания из очереди.                                                                                                                            |        производительность  надежность        |
|         Службы         |                                                                                                                                                                                                     Используется для запуска в виде отдельных приложений                                                                                                                                                                                                     |           надежность эффективность           |
|    Хранилище данных    |                                                                                 Приложение отправляет данные в «firehose»-хранилище, которое обеспечивает потоковый интерфейс для поглощения и обработки данных. Как правило, это информация о действиях пользователей. Часто необработанные данные преобразуются или дополняются и передаются в другие «firehose»-хранилища.                                                                                |        эффективность масштабируемость        |
|   Облачное хранилище   |                                                                                                                                                     Облачное хранилище — простой и масштабируемый способ для хранения и обмена данными через интернет, пользуясь преимуществами RESTful API через HTTP.                                                                                                                                                      |        эффективность масштабируемость        |
| CDN                    | «Content Delivery System» (система доставки контента). Эта технология позволяет намного быстрее, чем с исходного сервера, отправлять статические HTML-, CSS-, JavaScript-файлы и изображения. Она распространяет контент из многих «конечных» серверов по всему миру, чтобы пользователи загружали различные ресурсы из них вместо исходного сервера.                                                                                                        | производительность                           |
