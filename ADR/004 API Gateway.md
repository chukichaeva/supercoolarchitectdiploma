# 004 API Gateway 
21.04.2022
## Контекст
Требуется разработка единой системы для пользователей во внешней сети: web-браузер и мобильное приложение на разных ОС, а также для сотрудников во внутренней сети компании (бизнес-аналитики, сопровождение, склады и тд)
## Решение
В качестве единой точки входа в систему требуется использовать 2 API Gateway для внешней и внутренней сети
* Традиционные шлюзы, потому что API бизнес-ориентировано - для внешней сети
* Микросервисные шлюзы, потому что бесплатное решение. Во внутреннем сегменте можно прооводить канареечное тестирование, заранее оповестив сотрудников
## Статус
Утверждено
## Последствия 
Традиционные шлюзы для внешней сети: 
* Управление внутренним бизнесом API
* Сбор метрик для бизнеса
* Агрегирование данных
* Трансляция сервисов бэкенда
* Обнаружение и устранение угроз, шифрование, авторизация, контроль доступа, аудит
* Версионирование API, организация ЖЦ API
Микросервисные шлюзы для внутренней сети:
* Предоставление доступа и слежение за внуттренними сервисами
* Обеспечение отказоустойчивости сервисов
* Упралвение входящим трафиком
* Агрегирование данных
* Трансляция сервисов бэкенда
* Обнаружение и устранение угроз, шифрование, авторизация, контроль доступа, аудит
* Версионирование API, организация ЖЦ API
